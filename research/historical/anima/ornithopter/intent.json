{
  "slug": "ornithopter",
  "version": "0.1.0",
  "generated": "2025-09-16",
  "sources": [
    {"folio_id": "CA-846r", "manuscript": "Codex Atlanticus"},
    {"folio_id": "MSB-70r", "manuscript": "Manuscript B"},
    {"folio_id": "FLIGHT-12v", "manuscript": "Codex on the Flight of Birds"}
  ],
  "assumptions": {
    "pilot_mass_kg": 82,
    "target_wing_span_m": 10.5,
    "stroke_amplitude_m": 2.2,
    "power_source": "dual 2 kW brushless motors",
    "heritage_materials": ["fir spars", "rawhide hinges", "hemp cordage"],
    "modern_materials": ["carbon fiber spars", "Kevlar hinges", "Li-ion battery"]
  },
  "components": [
    {
      "id": "airframe",
      "name": "Central box frame",
      "type": "structure",
      "manuscript_refs": ["CA-846r", "MSB-70r"],
      "dimensions": {"length_m": 3.6, "width_m": 0.9},
      "renaissance_material": "fir beams",
      "modern_material": "carbon fiber box truss",
      "annotations": ["A1"],
      "notes": "Supports pilot, drivetrain, and spar roots."
    },
    {
      "id": "wing_spar_left",
      "name": "Left primary wing spar",
      "type": "lifting_surface",
      "manuscript_refs": ["CA-846r"],
      "renaissance_material": "fir with linen covering",
      "modern_material": "carbon fiber tube with FlexLam skin",
      "span_m": 5.25,
      "annotations": ["A1"],
      "notes": "Camber data sourced from Flight of Birds folio."
    },
    {
      "id": "wing_spar_right",
      "name": "Right primary wing spar",
      "type": "lifting_surface",
      "manuscript_refs": ["CA-846r"],
      "renaissance_material": "fir with linen covering",
      "modern_material": "carbon fiber tube with FlexLam skin",
      "span_m": 5.25,
      "annotations": ["A1"],
      "notes": "Mirror of left spar; assumed symmetric."
    },
    {
      "id": "pedal_crank",
      "name": "Foot pedal crank",
      "type": "drivetrain",
      "manuscript_refs": ["CA-846r", "MSB-70r"],
      "renaissance_material": "iron crank",
      "modern_material": "7075-T6 aluminum crank",
      "gear_ratio": 3.6,
      "annotations": ["A2"],
      "notes": "Human-powered in original; replaced with motor-driven crank."
    },
    {
      "id": "torsion_spring_pair",
      "name": "Shoulder torsion spring pair",
      "type": "energy_storage",
      "manuscript_refs": ["MSB-70r"],
      "renaissance_material": "steel spring laminations",
      "modern_material": "composite torsion bar",
      "annotations": ["A3"],
      "notes": "Original design uses torsion springs for stroke recovery; modern version uses geared servo assistance."
    },
    {
      "id": "flapping_rod_left",
      "name": "Left flapping pushrod",
      "type": "linkage",
      "manuscript_refs": ["CA-846r"],
      "renaissance_material": "fir rod",
      "modern_material": "titanium pushrod",
      "notes": "Transfers crank motion to wing."
    },
    {
      "id": "flapping_rod_right",
      "name": "Right flapping pushrod",
      "type": "linkage",
      "manuscript_refs": ["CA-846r"],
      "renaissance_material": "fir rod",
      "modern_material": "titanium pushrod",
      "notes": "Transfers crank motion to wing."
    },
    {
      "id": "tailplane",
      "name": "Stabilizing tailplane",
      "type": "control_surface",
      "manuscript_refs": ["CA-846r"],
      "renaissance_material": "linen canvas",
      "modern_material": "Kevlar skin over foam core",
      "span_m": 2.4,
      "notes": "Tailplane added during modernization for pitch stability."
    },
    {
      "id": "harness",
      "name": "Pilot harness",
      "type": "safety",
      "manuscript_refs": ["MSB-70r"],
      "renaissance_material": "leather straps",
      "modern_material": "Kevlar webbing",
      "notes": "Harness routes loads from pilot to frame; includes quick-release."
    }
  ],
  "joints": [
    {
      "id": "left_shoulder_hinge",
      "type": "revolute",
      "between": ["airframe", "wing_spar_left"],
      "range_deg": {"min": -12, "max": 45},
      "drive": "torsion_spring_pair",
      "notes": "Primary flapping hinge; damping assumed via modern elastomer stack."
    },
    {
      "id": "right_shoulder_hinge",
      "type": "revolute",
      "between": ["airframe", "wing_spar_right"],
      "range_deg": {"min": -12, "max": 45},
      "drive": "torsion_spring_pair"
    },
    {
      "id": "pedal_crank_joint",
      "type": "rotational",
      "between": ["airframe", "pedal_crank"],
      "range_deg": {"min": 0, "max": 360},
      "notes": "Acts as drivetrain input; originally human powered."
    },
    {
      "id": "tailplane_hinge",
      "type": "revolute",
      "between": ["airframe", "tailplane"],
      "range_deg": {"min": -15, "max": 15},
      "notes": "Modern addition for pitch trim via servo control."
    }
  ],
  "actuation": [
    {
      "id": "motor_drive",
      "type": "electric_motor",
      "location": "pedal_crank",
      "parameters": {
        "continuous_power_W": 2000,
        "peak_power_W": 2600,
        "gear_ratio": 8.5
      },
      "notes": "Replaces pilot leg power; two motors operate in parallel."
    },
    {
      "id": "flap_control",
      "type": "servo",
      "location": "left_shoulder_hinge",
      "parameters": {"torque_Nm": 320},
      "notes": "Differential amplitude control; mirrored on right hinge."
    }
  ],
  "control_paths": [
    {
      "id": "differential_flap",
      "inputs": ["IMU_roll", "pilot_command"],
      "outputs": ["flap_control"],
      "description": "Adjusts left/right stroke amplitude to maintain roll stability."
    },
    {
      "id": "tailplane_trim",
      "inputs": ["airspeed_sensor", "IMU_pitch"],
      "outputs": ["tailplane_hinge"],
      "description": "Maintains pitch attitude across flapping cycle."
    }
  ],
  "uncertainties": [
    {
      "id": "linkage_geometry",
      "description": "Exact geometry of pedal-to-wing linkage not fully legible; requires CAD optimization pass.",
      "folios": ["CA-846r"],
      "status": "needs reverse engineering"
    },
    {
      "id": "spring_characteristics",
      "description": "Leonardo's torsion springs lack dimensional annotations; TVA must bound plausible stiffness range.",
      "folios": ["MSB-70r"],
      "status": "estimate from analogous devices"
    }
  ],
  "integration_notes": {
    "tva_requirements": "Export hinge torque envelopes and material assumptions for fatigue solver input.",
    "synthesis_requirements": "Use component IDs as canonical names for CAD and simulation assemblies.",
    "testing": "Simulations should verify lift margin >= 0.1 and energy budget < 11.8 kWh per sortie."
  }
}
